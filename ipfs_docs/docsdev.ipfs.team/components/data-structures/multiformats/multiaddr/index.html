<!DOCTYPE html>
<html>
  <head>
    <title>IPFS Docs Portal</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.30.2" />

<title>MultiAddr :: IPFS Docs Portal</title>
<link rel="shortcut icon" href="../../../../images/favicon.png" type="image/x-icon" />
<link href="../../../../css/nucleus.css" rel="stylesheet">
<link href="../../../../css/font-awesome.min.css" rel="stylesheet">
<link href="../../../../css/hybrid.css" rel="stylesheet">
<link href="../../../../css/featherlight.min.css" rel="stylesheet">
<link href="../../../../css/auto-complete.css" rel="stylesheet">
<link href="../../../../theme-original/style.css" rel="stylesheet">

<link rel="stylesheet" href="../../../../css/bootstrap.min.css">
<script src="../../../../js/jquery-2.x.min.js"></script>
<style type="text/css">
  :root #header + #content > #left > #rlblock_left {
    display:none !important;
  }
</style>
<meta name="description" content="Composable and future-proof network addresses">


    
  </head>
  <body data-url="/components/data-structures/multiformats/multiaddr/">
    
      <div id="headermain"></div>
<nav id="sidebar" class="">



<div class="highlightable">
  <div id="header-wrapper">
    <div id="header">
      <link rel="stylesheet" type="text/css" href="https://docs.ipfs.iostyle.css">


	
  
    <p><a href="../../../../"><img src="../../../../images/ipfs-logo-vector-ice.svg" width="20%"><br>IPFS Documentation</a></p>

  


    </div>
        <div class="searchbox">
		    <label for="search-by"><i class="fa fa-search"></i></label>
		    <input data-search-input id="search-by" type="text" placeholder="Search...">
		    <span data-search-clear=""><i class="fa fa-close"></i></span>
		</div>
		<script type="text/javascript" src="../../../../js/lunr.min.js"></script>
		<script type="text/javascript" src="../../../../js/auto-complete.js"></script>
		<script type="text/javascript">
        
            var baseurl = "https:\/\/docs.ipfs.io";
        
		</script>
		<script type="text/javascript" src="../../../../js/search.js"></script>
  </div>

      <ul class="topics">
            <li data-nav-id="/" class="dd-item">
            <a href="../../../../"><i class="fa fa-fw fa-home"></i></a>
            </li>
    <li data-nav-id="/getting-started/" class="dd-item alwaysopen">
      <a href="../../../../getting-started/">
        <span>Getting Started</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/getting-started/overview/" class="dd-item">
        <a href="../../../../getting-started/overview/">
          <span>Overview</span>
        </a>
    </li>
      <li data-nav-id="/getting-started/installation/" class="dd-item">
        <a href="../../../../getting-started/installation/">
          <span>Installation</span>
        </a>
    </li>
      <li data-nav-id="/getting-started/basic-usage/" class="dd-item">
        <a href="../../../../getting-started/basic-usage/">
          <span>Basic usage</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/api/" class="dd-item alwaysopen">
      <a href="../../../../api/">
        <span>API</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
    <li data-nav-id="/api/cli/" class="dd-item">
      <a href="../../../../api/cli/">
        <span>Command-Line Interface</span>
      </a>
    </li>
    <li data-nav-id="/api/http-api/" class="dd-item">
      <a href="../../../../api/http-api/">
        <span>HTTP Interface</span>
      </a>
    </li>
    <li data-nav-id="/api/js/" class="dd-item">
      <a href="../../../../api/js/">
        <span>JavaScript Interface</span>
      </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/components/" class="dd-item parent alwaysopen">
      <a href="../../../../components/">
        <span>Components</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
    <li data-nav-id="/components/blockservice/" class="dd-item alwaysopen">
      <a href="../../../../components/blockservice/">
        <span>Block Service</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/components/blockservice/datastore/" class="dd-item">
        <a href="../../../../components/blockservice/datastore/">
          <span>Datastore</span>
        </a>
    </li>
      <li data-nav-id="/components/blockservice/exchange/" class="dd-item">
        <a href="../../../../components/blockservice/exchange/">
          <span>Exchange</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/components/data-structures/" class="dd-item parent alwaysopen">
      <a href="../../../../components/data-structures/">
        <span>Data Structures</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
    <li data-nav-id="/components/data-structures/multiformats/" class="dd-item parent alwaysopen">
      <a href="../../../../components/data-structures/multiformats/">
        <span>Multiformats</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
    <li data-nav-id="/components/data-structures/multiformats/multihash/" class="dd-item">
      <a href="../../../../components/data-structures/multiformats/multihash/">
        <span>MultiHash</span>
      </a>
    </li>
    <li data-nav-id="/components/data-structures/multiformats/multibase/" class="dd-item">
      <a href="../../../../components/data-structures/multiformats/multibase/">
        <span>MultiBase</span>
      </a>
    </li>
    <li data-nav-id="/components/data-structures/multiformats/multiaddr/" class="dd-item parent active">
      <a href="../../../../components/data-structures/multiformats/multiaddr/">
        <span>MultiAddr</span>
      </a>
    </li>
    <li data-nav-id="/components/data-structures/multiformats/multicodec/" class="dd-item">
      <a href="../../../../components/data-structures/multiformats/multicodec/">
        <span>MultiCodec</span>
      </a>
    </li>
    <li data-nav-id="/components/data-structures/multiformats/multistream/" class="dd-item">
      <a href="../../../../components/data-structures/multiformats/multistream/">
        <span>MultiStream</span>
      </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/components/data-structures/ipld/" class="dd-item alwaysopen">
      <a href="../../../../components/data-structures/ipld/">
        <span>IPLD</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
      <li data-nav-id="/components/data-structures/ipld/cid/" class="dd-item">
        <a href="../../../../components/data-structures/ipld/cid/">
          <span>Content Identifiers - CID</span>
        </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/components/data-structures/unixfs/" class="dd-item">
      <a href="../../../../components/data-structures/unixfs/">
        <span>UnixFS</span>
      </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/components/gateway/" class="dd-item alwaysopen">
      <a href="../../../../components/gateway/">
        <span>Gateway</span>
      </a>
    </li>
    <li data-nav-id="/components/ipns/" class="dd-item alwaysopen">
      <a href="../../../../components/ipns/">
        <span>IPNS</span>
      </a>
    </li>
    <li data-nav-id="/components/bitswap/" class="dd-item">
      <a href="../../../../components/bitswap/">
        <span>BitSwap</span>
      </a>
    </li>
    <li data-nav-id="/components/libp2p/" class="dd-item">
      <a href="../../../../components/libp2p/">
        <span>LibP2P</span>
      </a>
    </li>
        </ul>
    </li>
    <li data-nav-id="/implementations/" class="dd-item alwaysopen">
      <a href="../../../../implementations/">
        <span>Implementations</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
    <li data-nav-id="/implementations/go/" class="dd-item alwaysopen">
      <a href="../../../../implementations/go/">
        <span>Go-IPFS</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
    <li data-nav-id="/implementations/go/config/" class="dd-item">
      <a href="../../../../implementations/go/config/">
        <span>Configutation</span>
      </a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li data-nav-id="/working-with/" class="dd-item alwaysopen">
      <a href="../../../../working-with/">
        <span>Working with IPFS</span>
            <i class="fa fa-angle-down fa-lg category-icon"></i>
      </a>
        <ul>
    <li data-nav-id="/working-with/deploy-website/" class="dd-item">
      <a href="../../../../working-with/deploy-website/">
        <span>Deploy a website on IPNS</span>
      </a>
    </li>
      <li data-nav-id="/working-with/examples/" class="dd-item">
        <a href="../../../../working-with/examples/">
          <span>Examples</span>
        </a>
    </li>
        </ul>
    </li>



        <section id="shortcuts">
                <li class="" role=""><a href="" target="_blank" rel="noopener"></a></li>
                <li class="" role=""><h3>More</h3><a href="https://github.com/ipfs/go-ipfs" target="_blank" rel="noopener"><i class='fa fa-github'></i> Go IPFS repo</a></li>
                <li class="" role=""><a href="../../../../showcase" target="_blank" rel="noopener"><i class='fa fa-camera'></i> Showcases</a></li>
                <li class="" role=""><a href="../../../../link" target="_blank" rel="noopener"><i class='fa fa-bullhorn'></i> Link Goes Here</a></li>
        </section>

    <hr />
    <li></li>
    
    </ul>

 <section id="footer">
    </section>
  </div>
</nav>



<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">

  <div id="top-bar">
    
      
      
      
    <div id="top-github-link">
      <a class="github-link" href="https://github.com/ipfs/docs/tree/master/content/components/data-structures/multiformats/multiaddr/_index.md" target="blank">
        <i class="fa fa-code-fork"></i>
        Edit page
      </a>
    </div><div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
        <span id="sidebar-toggle-span">
          <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
            <i class="fa fa-bars"></i>
          </a>
        </span>
        <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
        <span class="links">
        













 <a href='../../../../'>IPFS Documentation</a> > <a href='../../../../components/'>Components</a> > <a href='../../../../components/data-structures/'>Data Structures</a> > <a href='../../../../components/data-structures/multiformats/'>Multiformats</a> > MultiAddr

 

 

 

 

   
        </span>
    </div>
    
    
    <div class="progress">
        <div class="wrapper">
    <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#use-cases">Use cases</a>
<ul>
<li><a href="#encapsulation-based-on-context">Encapsulation based on context</a></li>
</ul></li>
<li><a href="#specification">Specification</a>
<ul>
<li><a href="#encoding">Encoding</a></li>
<li><a href="#decoding">Decoding</a></li>
</ul></li>
<li><a href="#protocols">Protocols</a></li>
<li><a href="#implementations">Implementations</a></li>
</ul></li>
</ul>
</nav>
        </div>
    </div>
    

  </div>


<div id="body-inner">
  
    <h1>MultiAddr</h1>
  



    
    
    



<blockquote>
<p>Composable and future-proof network addresses</p>
</blockquote>

<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#use-cases">Use cases</a>

<ul>
<li><a href="#encapsulation-based-on-context">Encapsulation based on context</a></li>
</ul></li>
<li><a href="#specification">Specification</a>

<ul>
<li><a href="#encoding">Encoding</a></li>
<li><a href="#decoding">Decoding</a></li>
</ul></li>
<li><a href="#protocols">Protocols</a></li>
<li><a href="#implementations">Implementations</a></li>
</ul>

<h2 id="introduction">Introduction</h2>

<p>Multiaddr aims to make network addresses future-proof, composable, and efficient.</p>

<p>Current addressing schemes have a number of problems.</p>

<ol>
<li>They hinder protocol migrations and interoperability between protocols.</li>
<li>They don&rsquo;t compose well. There are plenty of X-over-Y constructions,
but only few of them can be addressed in a classic URI/URL or host:port scheme.</li>
<li>They don&rsquo;t multiplex: they address ports, not processes.</li>
<li>They&rsquo;re implicit, in that they presume out-of-band values and context.</li>
<li>They don&rsquo;t have efficient machine-readable representations.</li>
</ol>

<p>Multiaddr solves these problems by modelling network addresses as arbitrary encapsulations of protocols.</p>

<ul>
<li>Multiaddrs support addresses for any network protocol.</li>
<li>Multiaddrs are self-describing.</li>
<li>Multiaddrs conform to a simple syntax, making them trivial to parse and construct.</li>
<li>Multiaddrs have human-readable and efficient machine-readable representations.</li>
<li>Multiaddrs encapsulate well, allowing trivial wrapping and unwrapping of encapsulation layers.</li>
</ul>

<p>Multiaddr was originally <a href="https://github.com/jbenet/random-ideas/issues/11">thought up by @jbenet</a>.</p>

<h2 id="use-cases">Use cases</h2>

<ul>
<li>TODO: unpack the shortcomings of URLs

<ul>
<li>example: hostnames in https://</li>
<li>can&rsquo;t sidestep DNS</li>
<li>can&rsquo;t use different SNI vs. Host headers</li>
<li>can&rsquo;t do http-over-utp</li>
<li>TODO check out how http/1.1 vs. http/2 is distinguished</li>
<li>rift between filesystem, web, and databases</li>
</ul></li>
</ul>

<h3 id="encapsulation-based-on-context">Encapsulation based on context</h3>

<p>Although multiaddrs are self-describing, it&rsquo;s possible to further encapsulate them based on context.
For example in a web browser, it&rsquo;s obvious that, given a hostname, HTTP should be spoken.
The specifics of this HTTP connection are not important (expect maybe the use of TLS),
and will be derived from the browser&rsquo;s capabilities and configuration.</p>

<ol>
<li>example.com/index.html</li>
<li>/http/example.com/index.html</li>
<li>/tls/sni/example.com/http/example.com/index.html</li>
<li>/dns4/example.com/tcp/443/tls/sni/example.com/http/example.com/index.html</li>
<li>/ip4/1.2.3.4/tcp/443/tls/sni/example.com/http/example.com/index.html</li>
</ol>

<p>The resulting layers of encapsulation reflect exactly
how the bidirectional stream between client and server is constructed.</p>

<p>Now you can imagine how based on the browser&rsquo;s configuration, the multiaddr might look different.
For example you could use HTTP proxying or SOCKS proxying, or use domain fronting to evade censorship.
This kind of proxying is of course possible without multiaddr,
but only with multiaddr do we have a way of consistently addressing these networking constructions.</p>

<h2 id="specification">Specification</h2>

<ul>
<li>Human-readable multiaddr: <code>(/&lt;protoName string&gt;/&lt;value string&gt;)+</code>

<ul>
<li>Example: <code>/ip4/127.0.0.1/udp/1234</code></li>
</ul></li>
<li>Machine-readable multiaddr: <code>(&lt;protoCode uvarint&gt;&lt;value []byte&gt;)+</code>

<ul>
<li>Same example: <code>0x4 0x7f 0x0 0x0 0x1 0x91 0x2 0x4 0xd2</code></li>
<li>Values are usually length-prefixed with a uvarint</li>
</ul></li>
</ul>

<p>Multiaddr and all other multiformats use unsigned varints (uvarint).
Read more about it in <a href="https://github.com/multiformats/unsigned-varint">multiformats/unsigned-varint</a>.</p>

<h3 id="encoding">Encoding</h3>

<p>TODO: specify the encoding (byte-array to string) procedure</p>

<h3 id="decoding">Decoding</h3>

<p>TODO: specify the decoding (string to byte-array) procedure</p>

<h2 id="protocols">Protocols</h2>

<p>See <a href="protocols.csv">protocols.csv</a> for a list of protocol codes and names,
and <a href="protocols/">protocols/</a> for specifications of the currently supported protocols.</p>

<p>TODO: most of these are way underspecified</p>

<ul>
<li>/ip4, /ip6</li>
<li>/dns4, /dns6</li>
<li>/dnsaddr</li>
<li>/tcp</li>
<li>/udp</li>
<li>/utp</li>
<li>/tls</li>
<li>/ws, /wss</li>
<li>/ipfs</li>
<li>/p2p-circuit</li>
<li>/p2p-webrtc-star, /p2p-webrtc-direct</li>
<li>/p2p-websocket-star</li>
<li>/onion</li>
</ul>

<h2 id="implementations">Implementations</h2>

<ul>
<li><a href="https://github.com/multiformats/js-multiaddr">js-multiaddr</a> - stable</li>
<li><a href="https://github.com/multiformats/go-multiaddr">go-multiaddr</a> - stable

<ul>
<li><a href="https://github.com/multiformats/go-multiaddr-dns">go-multiaddr-dns</a></li>
<li><a href="https://github.com/multiformats/go-multiaddr-net">go-multiaddr-net</a></li>
</ul></li>
<li><a href="https://github.com/multiformats/java-multiaddr">java-multiaddr</a> - stable</li>
<li><a href="https://github.com/MatrixAI/haskell-multiaddr">haskell-multiaddr</a> - stable</li>
<li><a href="https://github.com/sbuss/py-multiaddr">py-multiaddr</a> - alpha</li>
<li><a href="https://github.com/multiformats/rust-multiaddr">rust-multiaddr</a> - beta</li>
<li><a href="https://github.com/multiformats/cs-multiaddress">cs-multiaddress</a> - alpha</li>
<li><a href="https://github.com/richardschneider/net-ipfs-core">net-ipfs-core</a> - stable</li>
</ul>



    
    
          <footer class=" footline" >
	
</footer>
  </div>
</div>

<div id="navigation">
</div>

</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
  <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>    

<script src="../../../../js/clipboard.min.js"></script>
<script src="../../../../js/featherlight.min.js"></script>
<script src="../../../../js/html5shiv-printshiv.min.js"></script>
<script src="../../../../js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="../../../../js/modernizr.custom.71422.js"></script>
<script src="../../../../js/docdock.js"></script>
<script src="../../../../theme-original/script.js"></script>


    

    
    

    
  </body>
</html>